---
import * as Plot from "@observablehq/plot";
import penguins from "../../assets/penguins.json";
import Header from "../../components/Header.astro";
import Layout from "../../layouts/Layout.astro";
import PlotFigure from "../../components/PlotFigure.astro";

const penguinsChinstrap = penguins.filter(({ species }) => species === "Chinstrap");
---

<Layout>
  <Header />

  <main class="container">
    <h1 class="title">Chinstrap Penguins</h1>

    <section class="card">
      <PlotFigure
        options={{
          marks: [
            Plot.dot(penguinsChinstrap, {
              x: "culmen_length_mm",
              y: "culmen_depth_mm",
              stroke: "species",
            }),
          ],
        }}
      />
      <p class="count">Number of Chinstrap Penguins: {penguinsChinstrap.length}</p>
    </section>
  </main>
</Layout>

<style>
  .container {
    padding: 2rem;
    max-width: 1000px;
    margin: auto;
  }

  .title {
    font-size: 2rem;
    font-weight: 700;
    margin-bottom: 1.5rem;
    text-align: center;
    background: linear-gradient(90deg, #2563eb, #10b981);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  .card {
    background: white;
    border-radius: 1rem;
    padding: 2rem;
    box-shadow: 0 4px 15px rgba(0,0,0,0.08);
  }

  .count {
    margin-top: 1rem;
    font-weight: 500;
    color: #10b981;
  }
</style>
